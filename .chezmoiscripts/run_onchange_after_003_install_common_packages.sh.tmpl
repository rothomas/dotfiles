{{ if not eq .chezmoi.username "root" -}}
{{-define "installed"}}command -v "{{.}}" >/dev/null{{end-}}
#!/usr/bin/env bash

>&2 echo "Installing Homebrew Common Packages"

eval "$({{ .brew }} shellenv)"

{{template "installed" "age"}} || brew install age
brew install awscli@1
brew install aws-vault
brew install expect
brew install gh
{{template "installed" "git"}} || brew install git
{{template "installed" "gpg2"}} || brew install gpg2
brew install gradle
brew install jq
brew install maven
brew install mosh
brew install nvim
brew install openjdk
brew install pipenv
brew install pyenv
{{template "installed" "syncthing"}} || (brew install syncthing && brew services start syncthing)
brew install terraform@{{ .version.terraform }}
{{template "installed" "unzip"}} || brew install unzip
brew install zellij
{{- end }}
