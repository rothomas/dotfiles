eval "$START_PROFILE"

# NVM takes longer to load than everything else put together,
# so we need to make sure we run it only once.
function should_load_nvm() {
  if interactive; then
    [[ "${FROM_DOTFILE}" == 'zprofile' ]] && return 0
  else
    [[ "${FROM_DOTFILE}" == 'zshenv' ]] && return 0
  fi
  return 1
}

if should_load_nvm && [ -s "/usr/local/opt/nvm/nvm.sh" ]; then
  # This loads nvm
  source "/usr/local/opt/nvm/nvm.sh"
fi

eval "$END_PROFILE"

